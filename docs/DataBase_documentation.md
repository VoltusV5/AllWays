# üìñ –û–±—â–∞—è –ª–æ–≥–∏–∫–∞ –ë–î

–≠—Ç–∞ –±–∞–∑–∞ –¥–µ–ª–∏—Ç—Å—è –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–º—ã—Å–ª–æ–≤—ã—Ö –±–ª–æ–∫–æ–≤:

### üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ –∞–∫–∫–∞—É–Ω—Ç  
**(users, profiles, account_levels, social_logins, login_history, notifications)**  
‚Üí –≤—Å—ë, —á—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–µ–π, –≤—Ö–æ–¥–æ–º, –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ –∏ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–µ–π.  

### üöç –ü–æ–µ–∑–¥–∫–∏ –∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è  
**(routes, stops, segments, segment_transport, schedules, bookings, tickets, payments, booking_pricing, booking_details, bookings_history)**  
‚Üí —Ö—Ä–∞–Ω–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–æ–≤, —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–π, –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π, –±–∏–ª–µ—Ç–æ–≤ –∏ –æ–ø–ª–∞—Ç.  

### üéÅ –õ–æ—è–ª—å–Ω–æ—Å—Ç—å –∏ –∞–∫—Ü–∏–∏  
**(rewards, promo_rewards, loyalty_rewards, user_loyalty_balance)**  
‚Üí –ø—Ä–æ–º–æ–∫–æ–¥—ã, –±–æ–Ω—É—Å–Ω—ã–µ –±–∞–ª–ª—ã –∏ –∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ.  

### üìë –õ–æ–≥–∏ –∏ –∞—É–¥–∏—Ç  
**(audit_logs)**  
‚Üí —Å–∏—Å—Ç–µ–º–∞ —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç –≤—Å–µ –≤–∞–∂–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è (–¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏).  

### ‚≠ê –û—Ç–∑—ã–≤—ã –∏ –º–µ–¥–∏–∞  
**(route_reviews, review_files, user_files)**  
‚Üí –æ—Ç–∑—ã–≤—ã –Ω–∞ –º–∞—Ä—à—Ä—É—Ç—ã, —Ñ–∞–π–ª—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –≤–ª–æ–∂–µ–Ω–∏—è.  

---

# –ö–∞–∫ —á–∏—Ç–∞—Ç—å —Ç–∞–±–ª–∏—Ü—ã

### –ü—Ä–∏–º–µ—Ä: `users`

- `users` ‚Äî —ç—Ç–æ –≥–ª–∞–≤–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –≤—Å–µ—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤.  
- –í –Ω–µ–π –µ—Å—Ç—å —Ñ–ª–∞–≥ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (`is_active`) –∏ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ—á—Ç—ã (`email_verified`).  
- `profiles` —Ö—Ä–∞–Ω–∏—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–§–ò–û, –¥–µ–Ω—å —Ä–æ–∂–¥–µ–Ω–∏—è, —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å, —É—Ä–æ–≤–µ–Ω—å –∞–∫–∫–∞—É–Ω—Ç–∞).  
- `account_levels` –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å—ã (Gold, Silver, Bronze).  
- –ï—Å–ª–∏ —á–µ–ª–æ–≤–µ–∫ –∑–∞—à—ë–ª —á–µ—Ä–µ–∑ Google –∏–ª–∏ VK ‚Äî –∑–∞–ø–∏—Å—å –ø–æ–ø–∞–¥—ë—Ç –≤ `social_logins`.  
- –í—Å–µ –µ–≥–æ –≤—Ö–æ–¥—ã (—É—Å–ø–µ—à–Ω—ã–µ –∏ –Ω–µ—É—Å–ø–µ—à–Ω—ã–µ) –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ `login_history`.  
- –°–æ–æ–±—â–µ–Ω–∏—è (—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, –ø—Ä–æ–º–æ, –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è) —É—Ö–æ–¥—è—Ç –≤ `notifications`.  

–ß—Ç–æ–±—ã —Å–æ–±—Ä–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –¥–µ–ª–∞–µ–º:  
`users + profiles + account_levels + social_logins`  

---

### –ü—Ä–∏–º–µ—Ä: `bookings` (–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ)

- –ö–æ–≥–¥–∞ —é–∑–µ—Ä –ø–æ–∫—É–ø–∞–µ—Ç –±–∏–ª–µ—Ç ‚Üí —Å–æ–∑–¥–∞—ë—Ç—Å—è –∑–∞–ø–∏—Å—å –≤ `bookings`.  
- –§–∏–Ω–∞–Ω—Å–æ–≤–∞—è —á–∞—Å—Ç—å (—Ü–µ–Ω—ã, —Å–∫–∏–¥–∫–∏) —Ö—Ä–∞–Ω–∏—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ –≤ `booking_pricing`.  
- –î–µ—Ç–∞–ª–∏ –±–∏–ª–µ—Ç–∞ (–∫–ª–∞—Å—Å, –±–∞–≥–∞–∂) ‚Äî –≤ `booking_details`.  
- –°–∞–º–∏ –±–∏–ª–µ—Ç—ã –Ω–∞ –ø–∞—Å—Å–∞–∂–∏—Ä–æ–≤ ‚Äî –≤ `tickets`.  
- –û–ø–ª–∞—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç —á–µ—Ä–µ–∑ `payments`.  
- –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞ –±—Ä–æ–Ω–∏ (—Å–æ–∑–¥–∞–Ω–æ, –æ—Ç–º–µ–Ω–µ–Ω–æ, –æ–ø–ª–∞—á–µ–Ω–æ) —Ñ–∏–∫—Å–∏—Ä—É—é—Ç—Å—è –≤ `bookings_history`.  

üëâ –ß—Ç–æ–±—ã —Å–æ–±—Ä–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é –±—Ä–æ–Ω–∏:  
`bookings + booking_pricing + tickets + payments + bookings_history`  

---

### –ü—Ä–∏–º–µ—Ä: `routes` (–º–∞—Ä—à—Ä—É—Ç—ã)

- `routes` ‚Äî —Å–∞–º –º–∞—Ä—à—Ä—É—Ç (–Ω–∞–ø—Ä–∏–º–µ—Ä, ¬´–ú–æ—Å–∫–≤–∞‚Äì–°–ü–±¬ª).  
- –û–Ω —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ `segments` (–∫–∞–∂–¥—ã–π –æ—Ç—Ä–µ–∑–æ–∫ –ø—É—Ç–∏ —Å –æ—Å—Ç–∞–Ω–æ–≤–∫–∞–º–∏).  
- `segment_transport` —É—Ç–æ—á–Ω—è–µ—Ç –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫–∞ –∏ —Å—Ç–æ–∏–º–æ—Å—Ç—å —Å–µ–≥–º–µ–Ω—Ç–∞.  
- `schedules` –ø—Ä–∏–≤—è–∑—ã–≤–∞–µ—Ç —Å–µ–≥–º–µ–Ω—Ç—ã –∫ –≤—Ä–µ–º–µ–Ω–∏ (–æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ –ø—Ä–∏–±—ã—Ç–∏–µ).  

üëâ –ï—Å–ª–∏ –Ω—É–∂–µ–Ω –ø–æ–ª–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç —Å —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º:  
`routes + segments + segment_transport + schedules`  

---

### –ü—Ä–∏–º–µ—Ä: loyalty –∏ promo

- `rewards` ‚Äî –±–∞–∑–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞ –Ω–∞–≥—Ä–∞–¥ (—É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–∞—è).  
- `promo_rewards` ‚Äî —É—Å–ª–æ–≤–∏—è –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤.  
- `loyalty_rewards` ‚Äî –ø—Ä–∞–≤–∏–ª–∞ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏ (–∫–∞–∫ –Ω–∞—á–∏—Å–ª—è—Ç—å/—Å–ø–∏—Å—ã–≤–∞—Ç—å –±–∞–ª–ª—ã).  
- `user_loyalty_balance` ‚Äî –±–∞–ª–∞–Ω—Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ –±–æ–Ω—É—Å–∞–º.  

---

### –ü—Ä–∏–º–µ—Ä: `audit_logs`

- –õ—é–±–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ (—Å–æ–∑–¥–∞–Ω–∏–µ –±—Ä–æ–Ω–∏, –æ—Ç–º–µ–Ω–∞, –æ–ø–ª–∞—Ç–∞, –æ—Ç–∑—ã–≤) —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç—Å—è –∑–¥–µ—Å—å.  
- –£–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –∫—Ç–æ (`user_id`), —á—Ç–æ —Å–¥–µ–ª–∞–ª (`action`), –Ω–∞–¥ –∫–∞–∫–æ–π —Å—É—â–Ω–æ—Å—Ç—å—é (`entity_type` –∏ `entity_id`), –∫–æ–≥–¥–∞ (`timestamp`), —Å –∫–∞–∫–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞/IP.  
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, —Ä–∞—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–π –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏.  

---

### –ü—Ä–∏–º–µ—Ä: –æ—Ç–∑—ã–≤—ã –∏ –º–µ–¥–∏–∞

- `route_reviews` ‚Äî —Ç–µ–∫—Å—Ç–æ–≤—ã–π –æ—Ç–∑—ã–≤ –∏ —Ä–µ–π—Ç–∏–Ω–≥.  
- `review_files` ‚Äî –≤–ª–æ–∂–µ–Ω–Ω—ã–µ –∫–∞—Ä—Ç–∏–Ω–∫–∏/—Ñ–∞–π–ª—ã –∫ –æ—Ç–∑—ã–≤—É.  
- `user_files` ‚Äî –ª—é–±—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (–ø—Ä–∏–≤—è–∑–∫–∞ –∫ –±—Ä–æ–Ω–∏ –∏–ª–∏ –æ—Ç–∑—ã–≤—É).  

---

# –ï—Å–ª–∏ –∫–æ—Ä–æ—Ç–∫–æ:

- –í—Å—ë, —á—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å **—á–µ–ª–æ–≤–µ–∫–æ–º** ‚Üí –±–ª–æ–∫ `users`  
- –í—Å—ë, —á—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å **–ø–æ–µ–∑–¥–∫–æ–π** ‚Üí –±–ª–æ–∫ `routes/bookings`  
- –í—Å—ë, —á—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å **–¥–µ–Ω—å–≥–∞–º–∏ –∏ –±–æ–Ω—É—Å–∞–º–∏** ‚Üí –±–ª–æ–∫ `payments/rewards`  
- –í—Å—ë, —á—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å **–∫–æ–Ω—Ç—Ä–æ–ª–µ–º –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å—é** ‚Üí –±–ª–æ–∫ `audit_logs`  
- –í—Å—ë, —á—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å **–æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑—å—é** ‚Üí –±–ª–æ–∫ `reviews + files`  

<br><br><br><br>

---

# –ü–æ–¥—Ä–æ–±–Ω–æ –æ –º–∞—Ä—à—Ä—É—Ç–∞—Ö:

## –û—Å–Ω–æ–≤–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏

### providers
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –ü–µ—Ä–µ–≤–æ–∑—á–∏–∫–∏ (–∞–≤—Ç–æ–±—É—Å–Ω—ã–µ –∫–æ–º–ø–∞–Ω–∏–∏, –º–µ—Ç—Ä–æ, —Ç–∞–∫—Å–∏ –∏ –¥—Ä.).
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –≤–ª–∞–¥–µ–ª—å—Ü–∞ –º–∞—Ä—à—Ä—É—Ç–∞.
- **–°–≤—è–∑–∏**:
  - 1 ‚Üí N `routes` (–æ–¥–∏–Ω –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫ –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∞—Ä—à—Ä—É—Ç–æ–≤).

---

### routes
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–∞—Ä—à—Ä—É—Ç–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–ê–≤—Ç–æ–±—É—Å ‚Ññ15").
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –•—Ä–∞–Ω–∏—Ç –±–∞–∑–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç–∞.
- **–°–≤—è–∑–∏**:
  - N ‚Üí 1 `providers` (–∫–∞–∂–¥—ã–π –º–∞—Ä—à—Ä—É—Ç –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –ø–µ—Ä–µ–≤–æ–∑—á–∏–∫—É).
  - 1 ‚Üí N `segments` (–º–∞—Ä—à—Ä—É—Ç —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Å–µ–≥–º–µ–Ω—Ç–æ–≤).

---

### stops
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –¢–æ—á–∫–∏ –æ—Å—Ç–∞–Ω–æ–≤–æ–∫/—Å—Ç–∞–Ω—Ü–∏–π (—Å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏).
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞.
- **–°–≤—è–∑–∏**:
  - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `segments` (–Ω–∞—á–∞–ª—å–Ω–∞—è –∏ –∫–æ–Ω–µ—á–Ω–∞—è —Ç–æ—á–∫–∞ —Å–µ–≥–º–µ–Ω—Ç–∞).
  - –ú–æ–∂–µ—Ç –±—ã—Ç—å –æ–±—â–µ–π –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤.

---

### segments
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –£—á–∞—Å—Ç–∫–∏ –º–∞—Ä—à—Ä—É—Ç–∞ –æ—Ç –æ–¥–Ω–æ–π –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ –¥–æ –¥—Ä—É–≥–æ–π.
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –î–µ–ª–∏—Ç –º–∞—Ä—à—Ä—É—Ç –Ω–∞ –ª–æ–≥–∏—á–µ—Å–∫–∏–µ —á–∞—Å—Ç–∏.
- **–°–≤—è–∑–∏**:
  - N ‚Üí 1 `routes` (–∫–∞–∂–¥—ã–π —Å–µ–≥–º–µ–Ω—Ç –ø—Ä–∏–Ω–∞–¥–ª–µ–∂–∏—Ç –º–∞—Ä—à—Ä—É—Ç—É).
  - N ‚Üí 1 `stops` (stop_from_id ‚Äî –Ω–∞—á–∞–ª–æ —Å–µ–≥–º–µ–Ω—Ç–∞).
  - N ‚Üí 1 `stops` (stop_to_id ‚Äî –∫–æ–Ω–µ—Ü —Å–µ–≥–º–µ–Ω—Ç–∞).
  - 1 ‚Üí 1 `segment_transport` (—Ç–∏–ø —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ –¥–ª—è —Å–µ–≥–º–µ–Ω—Ç–∞).
  - 1 ‚Üí N `schedules` (—Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è –ø–æ —Å–µ–≥–º–µ–Ω—Ç—É).

---

### segment_transport
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –£–∫–∞–∑—ã–≤–∞–µ—Ç –≤–∏–¥ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ (bus, train, metro, taxi –∏ —Ç. –¥.) –¥–ª—è —Å–µ–≥–º–µ–Ω—Ç–∞.
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –î–∞–µ—Ç –≥–∏–±–∫–æ—Å—Ç—å, —Ç–∞–∫ –∫–∞–∫ —Ä–∞–∑–Ω—ã–µ —Å–µ–≥–º–µ–Ω—Ç—ã –æ–¥–Ω–æ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∞ –º–æ–≥—É—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å—Å—è —Ä–∞–∑–Ω—ã–º–∏ —Ç–∏–ø–∞–º–∏ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞.
- **–°–≤—è–∑–∏**:
  - 1 ‚Üí 1 `segments`.

---

### schedules
- **–û–ø–∏—Å–∞–Ω–∏–µ**: –í—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ –ø—Ä–∏–±—ã—Ç–∏—è –¥–ª—è —Å–µ–≥–º–µ–Ω—Ç–∞.
- **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ**: –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –∫–æ–≥–¥–∞ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç —Å–ª–µ–¥—É–µ—Ç –ø–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º—É —Å–µ–≥–º–µ–Ω—Ç—É.
- **–°–≤—è–∑–∏**:
  - N ‚Üí 1 `segments` (—Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–º—É —Å–µ–≥–º–µ–Ω—Ç—É).

---

## –û–±—â–∞—è –ª–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã

1. **–ü—Ä–æ–≤–∞–π–¥–µ—Ä (providers)** —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç –º–∞—Ä—à—Ä—É—Ç.
2. **–ú–∞—Ä—à—Ä—É—Ç (routes)** —Å–æ–∑–¥–∞—ë—Ç—Å—è –∏ –ø—Ä–∏–≤—è–∑—ã–≤–∞–µ—Ç—Å—è –∫ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—É.
3. **–û—Å—Ç–∞–Ω–æ–≤–∫–∏ (stops)** –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∫–∞–∫ —Ç–æ—á–∫–∏ –Ω–∞—á–∞–ª–∞ –∏ –∫–æ–Ω—Ü–∞ —Å–µ–≥–º–µ–Ω—Ç–æ–≤.
4. **–°–µ–≥–º–µ–Ω—Ç—ã (segments)** –æ–ø–∏—Å—ã–≤–∞—é—Ç —á–∞—Å—Ç–∏ –º–∞—Ä—à—Ä—É—Ç–∞ –º–µ–∂–¥—É –æ—Å—Ç–∞–Ω–æ–≤–∫–∞–º–∏.
5. –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ–≥–º–µ–Ω—Ç–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è **—Ç–∏–ø —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ (segment_transport)**.
6. –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ–≥–º–µ–Ω—Ç–∞ –Ω–∞–∑–Ω–∞—á–∞–µ—Ç—Å—è **—Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ (schedules)**:
   - –≤—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∏—è,
   - –≤—Ä–µ–º—è –ø—Ä–∏–±—ã—Ç–∏—è,
   - –ø–µ—Ä–∏–æ–¥–∏—á–Ω–æ—Å—Ç—å (–µ—Å–ª–∏ –µ—Å—Ç—å).

---

## –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

- –ü–µ—Ä–µ–≤–æ–∑—á–∏–∫ **"–ì–æ—Ä–æ–¥—Å–∫–æ–π –∞–≤—Ç–æ–±—É—Å"** —Å–æ–∑–¥–∞—ë—Ç –º–∞—Ä—à—Ä—É—Ç **"‚Ññ15"**.
- –ú–∞—Ä—à—Ä—É—Ç –¥–µ–ª–∏—Ç—Å—è –Ω–∞ —Å–µ–≥–º–µ–Ω—Ç—ã:
  - –°–µ–≥–º–µ–Ω—Ç 1: `–û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ê ‚Üí –û—Å—Ç–∞–Ω–æ–≤–∫–∞ B`.
  - –°–µ–≥–º–µ–Ω—Ç 2: `–û—Å—Ç–∞–Ω–æ–≤–∫–∞ B ‚Üí –û—Å—Ç–∞–Ω–æ–≤–∫–∞ C`.
- –£ —Å–µ–≥–º–µ–Ω—Ç–∞ 1 `segment_transport = bus`.
- –£ —Å–µ–≥–º–µ–Ω—Ç–∞ 2 `segment_transport = tram`.
- –î–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ–≥–º–µ–Ω—Ç–∞ –≤–Ω–æ—Å—è—Ç—Å—è –∑–∞–ø–∏—Å–∏ –≤ **schedules** (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫–∞–∂–¥—ã–µ 15 –º–∏–Ω—É—Ç —Å 6:00 –¥–æ 23:00).

---

## –°—Ö–µ–º–∞ —Å–≤—è–∑–µ–π –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –º–∞—Ä—à—Ä—É—Ç–æ–≤

![–°—Ö–µ–º–∞ —Å–≤—è–∑–µ–π –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –º–∞—Ä—à—Ä—É—Ç–æ–≤](photo/–°—Ö–µ–º–∞%20–ë–î%20–¥–ª—è%20–ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è%20–º–∞—Ä—à—Ä—É—Ç–∞.png)

![–ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –º–∞—Ä—à—Ä—É—Ç–∞ –≤ –ë–î](photo/–ñ–∏–∑–Ω–µ–Ω–Ω—ã–π%20—Ü–∏–∫–ª%20–ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è%20–º–∞—Ä—à—Ä—É—Ç–∞%20–≤%20–ë–î.png)

---

# –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞: –ë—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –û–ø–ª–∞—Ç–∞

## –¢–∞–±–ª–∏—Ü—ã –∏ –∏—Ö —Ä–æ–ª—å

### **bookings**
- –¶–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è —Å—É—â–Ω–æ—Å—Ç—å, –∫–æ—Ç–æ—Ä–∞—è —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç —Ñ–∞–∫—Ç –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è.
- –•—Ä–∞–Ω–∏—Ç –±–∞–∑–æ–≤—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é:
  - `id` ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä.
  - `user_id` ‚Äî –∫—Ç–æ –∑–∞–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–ª.
  - `created_at` ‚Äî –∫–æ–≥–¥–∞ —Å–æ–∑–¥–∞–Ω–æ.
  - `status` ‚Äî —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (draft, pending, confirmed, cancelled, completed).
- –Ø–≤–ª—è–µ—Ç—Å—è —Ç–æ—á–∫–æ–π –≤—Ö–æ–¥–∞ –¥–ª—è –≤—Å–µ—Ö —Å–≤—è–∑–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.

---

### **booking_pricing**
- –•—Ä–∞–Ω–∏—Ç —Ä–∞—Å—á—ë—Ç–Ω—É—é —Å—Ç–æ–∏–º–æ—Å—Ç—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è.
- –ú–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å:
  - `base_price` ‚Äî –±–∞–∑–æ–≤—ã–π —Ç–∞—Ä–∏—Ñ.
  - `discount` ‚Äî –ø—Ä–∏–º–µ–Ω—ë–Ω–Ω—ã–µ —Å–∫–∏–¥–∫–∏.
  - `loyalty_spent` ‚Äî —Å–∫–æ–ª—å–∫–æ –±–æ–Ω—É—Å–æ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ.
  - `loyalty_earned` ‚Äî —Å–∫–æ–ª—å–∫–æ –Ω–∞—á–∏—Å–ª–µ–Ω–æ –±–æ–Ω—É—Å–æ–≤.
  - `final_price` ‚Äî –∏—Ç–æ–≥–æ–≤–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å –¥–ª—è –æ–ø–ª–∞—Ç—ã.
- –°–≤—è–∑–∞–Ω —Å `bookings (1:1)`.

---

### **booking_details**
- –î–µ—Ç–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∫–∞–∂–¥–æ–µ –º–µ—Å—Ç–æ / —Å–µ–≥–º–µ–Ω—Ç –º–∞—Ä—à—Ä—É—Ç–∞ –≤–Ω—É—Ç—Ä–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è.
- –ü—Ä–∏–º–µ—Ä—ã –ø–æ–ª–µ–π:
  - `booking_id` ‚Äî —Å—Å—ã–ª–∫–∞ –Ω–∞ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ.
  - `segment_id` ‚Äî —Å–µ–≥–º–µ–Ω—Ç –º–∞—Ä—à—Ä—É—Ç–∞ (–∏–∑ `segments`).
  - `seat_number` ‚Äî –º–µ—Å—Ç–æ (–µ—Å–ª–∏ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ).
  - `passenger_name`, `passenger_doc` ‚Äî –¥–∞–Ω–Ω—ã–µ –ø–∞—Å—Å–∞–∂–∏—Ä–∞.
- –°–≤—è–∑—å: `bookings (1:M)`.

---

### **tickets**
- –§–∏–Ω–∞–ª—å–Ω–∞—è —Å—É—â–Ω–æ—Å—Ç—å –ø–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –æ–ø–ª–∞—Ç—ã.
- –°–æ–¥–µ—Ä–∂–∏—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –±–∏–ª–µ—Ç –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ–≥–º–µ–Ω—Ç–∞/–º–µ—Å—Ç–∞.
- –ü–æ–ª—è:
  - `ticket_number` ‚Äî —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∫–æ–¥.
  - `qr_code` / `barcode`.
  - `status` (active, refunded, expired).
- –°–≤—è–∑–∞–Ω —Å `booking_details`.

---

### **payments**
- –•—Ä–∞–Ω–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ–± –æ–ø–ª–∞—Ç–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è.
- –ü–æ–ª—è:
  - `booking_id` ‚Äî –¥–ª—è –∫–∞–∫–æ–≥–æ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è.
  - `amount` ‚Äî —Å—É–º–º–∞.
  - `payment_method` (card, wallet, cash).
  - `status` (pending, success, failed, refunded).
- –õ–æ–≥–∏–∫–∞:
  - –ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –æ–ø–ª–∞—Ç—ã ‚Üí —Å—Ç–∞—Ç—É—Å `bookings` –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ *confirmed*.
  - –ü—Ä–∏ –≤–æ–∑–≤—Ä–∞—Ç–µ ‚Üí —Å–æ–∑–¥–∞—ë—Ç—Å—è –∑–∞–ø–∏—Å—å —Å —Ç–∏–ø–æ–º `refund`.

---

### **rewards**
- –ë–∞–∑–æ–≤–∞—è —Ç–∞–±–ª–∏—Ü–∞ –¥–ª—è –≤—Å–µ—Ö –≤–æ–∑–Ω–∞–≥—Ä–∞–∂–¥–µ–Ω–∏–π.
- –ü–æ–ª—è:
  - `id`, `type` (promo | loyalty), `title`, `description`.
- –Ø–≤–ª—è–µ—Ç—Å—è ¬´—à–ª—é–∑–æ–º¬ª –∫ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º —Ç–∞–±–ª–∏—Ü–∞–º.

---

### **promo_rewards**
- –ö—É–ø–æ–Ω—ã, –∞–∫—Ü–∏–∏.
- –ü–æ–ª—è:
  - `code` ‚Äî –ø—Ä–æ–º–æ–∫–æ–¥.
  - `valid_from` / `valid_to`.
  - `usage_limit`.
- –ü—Ä–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–∏:
  - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å.
  - –°—É–º–º–∞ —Å–∫–∏–¥–∫–∏ –æ—Ç—Ä–∞–∂–∞–µ—Ç—Å—è –≤ `booking_pricing.discount`.

---

### **loyalty_rewards**
- –ü—Ä–∞–≤–∏–ª–∞ –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è –∏ —Å–ø–∏—Å–∞–Ω–∏—è –±–æ–Ω—É—Å–æ–≤.
- –ü–æ–ª—è:
  - `earn_rate` ‚Äî —Å–∫–æ–ª—å–∫–æ –±–æ–Ω—É—Å–æ–≤ –∑–∞ 1‚ÇΩ.
  - `spend_rate` ‚Äî –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —Å–ø–∏—Å–∞–Ω–∏—è –±–æ–Ω—É—Å–æ–≤.
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–∏ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–∏ `booking_pricing`.

---

### **bookings_history**
- –ë–∏–∑–Ω–µ—Å-–ª–æ–≥: —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—é.
- –ü—Ä–∏–º–µ—Ä—ã:
  - —Å–º–µ–Ω–∞ —Å—Ç–∞—Ç—É—Å–∞,
  - –æ—Ç–º–µ–Ω–∞,
  - –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Å–∫–∏–¥–∫–∏,
  - –≤–æ–∑–≤—Ä–∞—Ç —Å—Ä–µ–¥—Å—Ç–≤.
- –ü–æ–∑–≤–æ–ª—è–µ—Ç –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≤–µ—Å—å –ø—É—Ç—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è.

---

### **user_files**
- –•—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤.
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è:
  - –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –ª–∏—á–Ω–æ—Å—Ç–∏,
  - –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–∏—è –±–∏–ª–µ—Ç–æ–≤,
  - –≤–æ–∑–≤—Ä–∞—Ç–æ–≤ –∏ –∂–∞–ª–æ–±.
- –°–≤—è–∑–∞–Ω —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–º–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è–º–∏.

---

## –û–±—â–∞—è –ª–æ–≥–∏–∫–∞ –ø—Ä–æ—Ü–µ—Å—Å–∞

1. **–°–æ–∑–¥–∞–Ω–∏–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è**
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç –º–∞—Ä—à—Ä—É—Ç –∏ —Å–µ–≥–º–µ–Ω—Ç—ã.
   - –°–æ–∑–¥–∞—ë—Ç—Å—è –∑–∞–ø–∏—Å—å –≤ `bookings` —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º *draft*.
   - –î–æ–±–∞–≤–ª—è—é—Ç—Å—è `booking_details`.

2. **–†–∞—Å—á—ë—Ç —Ü–µ–Ω—ã**
   - –°—á–∏—Ç–∞–µ—Ç—Å—è –±–∞–∑–æ–≤—ã–π —Ç–∞—Ä–∏—Ñ.
   - –ü—Ä–∏–º–µ–Ω—è—é—Ç—Å—è `promo_rewards` (–µ—Å–ª–∏ –≤–≤–µ–¥—ë–Ω –ø—Ä–æ–º–æ–∫–æ–¥).
   - –ü—Ä–∏–º–µ–Ω—è—é—Ç—Å—è `loyalty_rewards` (—Å–ø–∏—Å–∞–Ω–∏–µ –±–æ–Ω—É—Å–æ–≤).
   - –ò—Ç–æ–≥ –ø–∏—à–µ—Ç—Å—è –≤ `booking_pricing`.

3. **–û–ø–ª–∞—Ç–∞**
   - –°–æ–∑–¥–∞—ë—Ç—Å—è –∑–∞–ø–∏—Å—å –≤ `payments (pending)`.
   - –ü—Ä–∏ —É—Å–ø–µ—à–Ω–æ–π –æ–ø–ª–∞—Ç–µ:
     - `payments.status = success`.
     - `bookings.status = confirmed`.
     - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è `tickets`.

4. **–õ–æ—è–ª—å–Ω–æ—Å—Ç—å**
   - –ï—Å–ª–∏ –≤ –ø—Ä–∞–≤–∏–ª–∞—Ö –Ω–∞—á–∏—Å–ª–µ–Ω–∏—è –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω–æ:
     - –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø–æ–µ–∑–¥–∫–∏ ‚Üí –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ –±–æ–Ω—É—Å–æ–≤ (`loyalty_rewards`).
   - –ë–∞–ª–∞–Ω—Å —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ `user_loyalty_balance`.

5. **–ò—Å—Ç–æ—Ä–∏—è**
   - –õ—é–±–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ (–æ—Ç–º–µ–Ω–∞, –æ–ø–ª–∞—Ç–∞, –≤–æ–∑–≤—Ä–∞—Ç, –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∫—É–ø–æ–Ω–∞) ‚Üí –∑–∞–ø–∏—Å—å –≤ `bookings_history`.

6. **–í–æ–∑–≤—Ä–∞—Ç**
   - –ü—Ä–∏ –æ—Ç–º–µ–Ω–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è ‚Üí —Å–æ–∑–¥–∞—ë—Ç—Å—è `payments` —Å —Ç–∏–ø–æ–º refund.
   - `tickets` –º–µ–Ω—è—é—Ç —Å—Ç–∞—Ç—É—Å –Ω–∞ *refunded*.
   - –í `bookings_history` —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç—Å—è –æ—Ç–º–µ–Ω–∞.

---

## –°—Ö–µ–º–∞ —Å–≤—è–∑–µ–π –¥–ª—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –æ–ø–ª–∞—Ç—ã

![–°—Ö–µ–º–∞ —Å–≤—è–∑–µ–π –¥–ª—è –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –æ–ø–ª–∞—Ç—ã](photo/–°—Ö–µ–º–∞%20–ë–î%20–¥–ª—è%20–æ–ø–ª–∞—Ç—ã%20–∏%20–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è.png)

![–ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –æ–ø–ª–∞—Ç—ã](photo/–ñ–∏–∑–Ω–µ–Ω–Ω—ã–π%20—Ü–∏–∫–ª%20–±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è%20–∏%20–æ–ø–ª–∞—Ç—ã.png)



# –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, –∞–∫–∫–∞—É–Ω—Ç–∞–º–∏ –∏ –∏—Å—Ç–æ—Ä–∏–µ–π

–í —ç—Ç–æ–º –±–ª–æ–∫–µ –æ–ø–∏—Å–∞–Ω—ã —Ç–∞–±–ª–∏—Ü—ã, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏: –∏—Ö –∞–∫–∫–∞—É–Ω—Ç—ã, –≤—Ö–æ–¥—ã, —É—Ä–æ–≤–µ–Ω—å, –±–æ–Ω—É—Å—ã –∏ –∏—Å—Ç–æ—Ä–∏—è –º–∞—Ä—à—Ä—É—Ç–æ–≤.

---

## users
–ì–ª–∞–≤–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.  
–•—Ä–∞–Ω–∏—Ç –±–∞–∑–æ–≤—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é:
- email, –ø–∞—Ä–æ–ª—å (hash),
- –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç–∞ (`is_active`),
- –¥–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è,
- –ø–æ—Å–ª–µ–¥–Ω–∏–µ —É—Å–ø–µ—à–Ω—ã–µ –∏ –Ω–µ—É–¥–∞—á–Ω—ã–µ –≤—Ö–æ–¥—ã (`last_login`, `failed_attempts`),
- –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è email (`email_verified`).

---

## profiles
–°–æ–¥–µ—Ä–∂–∏—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö:
- –ü–æ–ª–Ω–æ–µ –∏–º—è (`full_name`),
- –î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è (`birthday`),
- –ß–∞—Å–æ–≤–æ–π –ø–æ—è—Å (`timezone`),
- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–∫–∫–∞—É–Ω—Ç–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON (`preferences`),
- –£—Ä–æ–≤–µ–Ω—å –∞–∫–∫–∞—É–Ω—Ç–∞ (`account_level`) ‚Üí FK –∫ `account_levels`.

**–°–≤—è–∑—å:** 1 –∫ 1 —Å `users`.

---

## account_levels
–¢–∞–±–ª–∏—Ü–∞ —É—Ä–æ–≤–Ω–µ–π –∞–∫–∫–∞—É–Ω—Ç–æ–≤:
- Gold, Silver, Bronze –∏ —Ç.–¥.,
- –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤ –∏ –±–æ–Ω—É—Å–Ω—ã–π –ø—Ä–æ—Ü–µ–Ω—Ç (`bonus_percent`).

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `profiles` –¥–ª—è –ø—Ä–∏—Å–≤–æ–µ–Ω–∏—è —É—Ä–æ–≤–Ω—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é.

---

## user_loyalty_balance
–ë–∞–ª–∞–Ω—Å –±–æ–Ω—É—Å–Ω—ã—Ö –±–∞–ª–ª–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
- —Å–∫–æ–ª—å–∫–æ –±–∞–ª–ª–æ–≤ –µ—Å—Ç—å –Ω–∞ —Å—á—ë—Ç–µ (`points_balance`),
- –∫–æ–≥–¥–∞ –æ–±–Ω–æ–≤–ª—è–ª—Å—è –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ä–∞–∑ (`last_updated`).

**–°–≤—è–∑—å:** FK –∫ `users`.  
–ë–∞–ª–ª—ã –Ω–∞—á–∏—Å–ª—è—é—Ç—Å—è –∏–ª–∏ —Å–ø–∏—Å—ã–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ `loyalty_rewards` –ø—Ä–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è—Ö –∏–ª–∏ –∞–∫—Ü–∏—è—Ö.

---

## user_routes
–ò—Å—Ç–æ—Ä–∏—è –ø–æ–µ–∑–¥–æ–∫ –∏ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º:
- –¢–∏–ø –º–∞—Ä—à—Ä—É—Ç–∞ (`from_to` –∏–ª–∏ `to_only`),
- –ù–∞—á–∞–ª—å–Ω–∞—è –∏ –∫–æ–Ω–µ—á–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞ (`start_stop`, `end_stop`),
- –î–∞—Ç–∞ –≤—ã–±–æ—Ä–∞ –º–∞—Ä—à—Ä—É—Ç–∞ (`created_at`),
- –í—Ä–µ–º—è –∏ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ —Å–µ–≥–º–µ–Ω—Ç–∞.

**–°–≤—è–∑—å:** FK –∫ `users` –∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–∞–º (`stops`).

---

## login_history
–ò—Å—Ç–æ—Ä–∏—è –≤—Å–µ—Ö –≤—Ö–æ–¥–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:
- –í—Ä–µ–º—è –≤—Ö–æ–¥–∞ (`login_at`),
- IP-–∞–¥—Ä–µ—Å, —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ, –±—Ä–∞—É–∑–µ—Ä,
- –£—Å–ø–µ—à–Ω–æ—Å—Ç—å –≤—Ö–æ–¥–∞ (`success`).

**–°–≤—è–∑—å:** FK –∫ `users`.  
–ü–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å.

---

## social_logins
–í—Ö–æ–¥ —á–µ—Ä–µ–∑ –≤–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã:
- –ù–∞–∑–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞ (`provider`),
- ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —Å–µ—Ä–≤–∏—Å–µ (`provider_id`),
- –î–∞—Ç–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è (`created_at`).

**–°–≤—è–∑—å:** FK –∫ `users`.  
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ Google, VK, –Ø–Ω–¥–µ–∫—Å –∏ –¥—Ä.

---

## –°—Ö–µ–º–∞ —Å–≤—è–∑–µ–π –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

![–°—Ö–µ–º–∞ –ë–î –ø—Ä–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è](photo/–°—Ö–µ–º–∞%20–ë–î%20–ø—Ä–æ%20–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.png)

![–ñ–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –ë–î —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º](photo/workflow%20–¥–ª—è%20user'–∞.png)


---

<br><br><br><br>

---

![–û–±—â–∞—è –¥–∏–∞–≥—Ä–∞–º–º–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å —Å–µ—Ä–≤–∏—Å–æ–º](photo/–û–±—â–∞—è%20–¥–∏–∞–≥—Ä–∞–º–º–∞%20–≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è%20–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è%20—Å%20—Å–µ—Ä–≤–∏—Å–æ–º.png)

